# Week9 学习笔记

- [Week9 学习笔记](#week9-%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0)
  - [Tic Tac Toe](#tic-tac-toe)
  - [TicTacToe | 给游戏添加一个完美的 AI](#tictactoe--%e7%bb%99%e6%b8%b8%e6%88%8f%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%ae%8c%e7%be%8e%e7%9a%84-ai)
  - [异步编程 | async 异步编程](#%e5%bc%82%e6%ad%a5%e7%bc%96%e7%a8%8b--async-%e5%bc%82%e6%ad%a5%e7%bc%96%e7%a8%8b)
  - [寻路 | 实现一个地图编辑器](#%e5%af%bb%e8%b7%af--%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%9c%b0%e5%9b%be%e7%bc%96%e8%be%91%e5%99%a8)
  - [寻路 | 广度优先搜索](#%e5%af%bb%e8%b7%af--%e5%b9%bf%e5%ba%a6%e4%bc%98%e5%85%88%e6%90%9c%e7%b4%a2)
  - [寻路 | 通过异步编程可视化寻路算法](#%e5%af%bb%e8%b7%af--%e9%80%9a%e8%bf%87%e5%bc%82%e6%ad%a5%e7%bc%96%e7%a8%8b%e5%8f%af%e8%a7%86%e5%8c%96%e5%af%bb%e8%b7%af%e7%ae%97%e6%b3%95)
  - [寻路 | 启发式搜索](#%e5%af%bb%e8%b7%af--%e5%90%af%e5%8f%91%e5%bc%8f%e6%90%9c%e7%b4%a2)
    - [最短路径](#%e6%9c%80%e7%9f%ad%e8%b7%af%e5%be%84)

---

## Tic Tac Toe

---

## TicTacToe | 给游戏添加一个完美的 AI

通过递归，判断每一步棋导致的完整结果（走到底），最后选择留给对方最坏局面的一步棋（自己赢）。

对于三子棋，可以通过递归走到底；但是对于五子棋乃至围棋，走到底不现实，需要一个最大深度；到达最大深度后，得到一个估值，根据估值来决定这一步的落子；神经网络的作用就在于这个估值。

---

## 异步编程 | async 异步编程

JS 的异步机制：

1. callback - callback hell
2. Promise - 同样会造成 then 的长链式
3. Generator - 需要 ca 模块，自动执行器
4. async / await - 用同步的方式写异步代码

---

## 寻路 | 实现一个地图编辑器

- 通过监听 contextmenu 事件，preventDefault，阻止右键唤起菜单
- mouse 事件的 which 属性，1，2，3 对应左键，中间键，右键
- Array(10000).fill(0) 快速创建数组填充

---

## 寻路 | 广度优先搜索

BFS 核心是队列数据结构，比如树的层序遍历，一层一层的遍历图的所有节点，找到最短路径

但是 BFS 相对来说比较笨

---

## 寻路 | 通过异步编程可视化寻路算法

---

## 寻路 | 启发式搜索

通过一个排序的数据结构，每次只走离目标点最近的点

- 需要一个 PriorityQueue 或者最小堆
- compare 函数来选择离当前距离目标点最近的点

---

### 最短路径

在寻路过程中，对每下一个节点，访问过后，修改那个节点为他的前继节点

也就是说，在寻路过程中，记录下来是从哪来的；

找到目标点后，从目标点出发，找前继节点，直到起始点，也就是最短路径。
